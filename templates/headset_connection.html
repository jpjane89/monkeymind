{% extends 'base.html' %}

{% block header %}

<div>
<p class="hello-message">Connect Your Headset</p>
</div>

<div>
  <a id = "end-session-btn" class="btn btn-default btn active" role="button"><span class="glyphicon glyphicon-headphones"></span>  End session</a>
</div>

<div class = 'right-header'>
  <span id = "connection-status-text">Connection status:</span>   <div id="connection-status">Waiting for signal</div>
<div>

{% endblock %}

{% block body %}

<div class="jumbotron" id="start-message">
  <h1>You're connected!</h1>
  <div>
  <p>Spend a moment thinking about your goals for this session before beginning.</br>
    Take a few deep breaths and press "Start" when you are ready.</p>
  </div>
  <p><a id= 'start-session' class="btn btn-primary btn-lg" role="button">Start</a></p>
</div>

<div class="below-header" id ='baseline-message'>
  <span class="glyphicon glyphicon-stats"></span> <h3>Taking a baseline measure</h3>
  <p>Over the next couple minutes, we'll take a baseline measure for the session. As best as you can, try to stay relatively still.</p>
</div>

<div class='center-bar' id = 'session-page'> 
</div>

<div>
  <span id="speedometer"></span>
</div>

<div class="jumbotron" id="music-alert">
  <h1>Try to refocus!</h1>
  <p>You veered off of center. The music will resume momentarily.</p>
</div>

<div class = 'footer-nav'>
  <div class = 'footer-container' id = 'left-footer-container'>
    <h3> Now Playing: </h3>
  </div>
  <div class = 'footer-container' id = 'left-center-footer-container'>
    <div id="api"></div>
    <img id="art" src="" height="140" width="140">
  </div>
  <div class = 'footer-container' id= 'center-left-footer-container'>
      <div><b>Track: </b><span id="track"></span></div>
      <div><b>Album: </b><span id="album"></span></div>
      <div><b>Artist: </b><span id="artist"></span></div>
      <div><b>Position: </b>
        <span style="display:inline-block;width:200px;border:1px solid black;">
          <span id="position" style="display:inline-block;background-color:#666">&nbsp;</span>
        </span></div>
      <div>
        <button id="previous">&lt;&lt;</button>
        <button id="play">|&gt;</button>
        <button id="pause">||</button>
        <button id="next">&gt;&gt;</button>
      </div>
  </div>
  <div class = 'footer-container' id= 'timer'>
    <div id = 'timer-header'>
      <h3>Time Elapsed:</h3>
    </div>
     <div id="clock">00:00</div>
  </div>
     <p> <a id = "end-session-btn" class="btn btn-default btn-lg active" role="button">End</a></p>
</div>

<div id = 'script-container'>

  <script src="/static/js/brainwaves.js"></script>
  <script src="/static/js/rdio_player.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerEvents/pointerevents.js"></script>
  <script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerGestures/pointergestures.js"></script>
  <script type="text/javascript" src="http://iop.io/js/iopctrl.js"></script>

</div>

{% endblock %}

{% block script %}

<script type="text/javascript" src='//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js'></script>
<script src="/static/js/session.js"></script>

<script>

$(document).ready(function () {
  connectionMain();
});

</script>

{% endblock %}